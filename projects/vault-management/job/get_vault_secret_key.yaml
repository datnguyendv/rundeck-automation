- defaultTab: nodes
  description: Get vault key
  executionEnabled: true
  group: job
  multipleExecutions: true
  loglevel: INFO
  name: Get Vault Secret Key
  nodeFilterEditable: false
  options:
    - name: VaultName
      description: ""
      label: Vault Name
      required: true
    - description: Vault authentication token
      hidden: true
      name: VaultToken
      required: true
      secure: true
      storagePath: keys/project/vault-management/Token
      valueExposed: true
  plugins:
    ExecutionLifecycle: {}
  scheduleEnabled: true
  sequence:
    commands:
      - description: Get Vault Key
        autoSecureInput: "false"
        passSecureInput: "false"
        script: |
          export EXEC_LOCATION=$HOME/projects/$RD_JOB_PROJECT
          python3 $EXEC_LOCATION/get-vault-key.py
          echo "Job finished successfully."
    keepgoing: false
    strategy: node-first
