- defaultTab: output
  description: "This job corresponds to the *\"Passing Variables in Job Steps\"* Tour.\n\
    The syntax to use values in the steps after it is captured: <br/> \n<ul><li>Commands\
    \ and step input boxes ${data.keyname}</li> \n<li>Inline script step @data.keyname@</li></ul>\n\
    \n<a href=\"https://docs.rundeck.com/docs/manual/log-filters/key-value-data.html#key-value-data\"\
    >Key-value pairs documentation</a>\n"
  executionEnabled: true
  group: Variables/Variables in Job Steps
  id: 2ca3161e-77a1-4f42-9d8d-1666cb97b12b
  loglevel: INFO
  name: Multi-Node Example
  nodeFilterEditable: false
  nodefilters:
    dispatch:
      excludePrecedence: true
      keepgoing: false
      rankOrder: ascending
      successOnEmptyNodeFilter: false
      threadcount: '1'
    filter: .*
  nodesSelectedByDefault: true
  plugins:
    ExecutionLifecycle: null
  scheduleEnabled: true
  sequence:
    commands:
    - description: Set MyKeyName to value of hostname command
      exec: hostname
      plugins:
        LogFilter:
        - config:
            invalidKeyPattern: \s|\$|\{|\}|\\
            logData: 'true'
            name: MyKeyName
            regex: ^(.*)$
          type: key-value-data
    - description: Use Variable in a Node Command Step
      exec: echo NODE COMMAND STEP INPUT EXAMPLE ${data.MyKeyName}
    - description: Use Variable in a Node Script Step
      plugins:
        LogFilter:
        - config:
            invalidKeyPattern: \s|\$|\{|\}|\\
            logData: 'true'
            regex: ^RUNDECK:DATA:\s*([^\s]+?)\s*=\s*(.+)$
          type: key-value-data
      script: 'echo "NODE SCRIPT STEP USE EXAMPLE: @data.MyKeyName@"'
    keepgoing: false
    strategy: node-first
  uuid: 2ca3161e-77a1-4f42-9d8d-1666cb97b12b

